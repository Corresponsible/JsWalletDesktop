// Generated by LiveScript 1.6.0
(function(){
  var react, wallet, ref$, map, take, drop, menu, web3, walletsFuncs, manageAccount, tokenMigration, addCoinPage, getLang, getPrimaryInfo, history, icons, icon, mobile;
  react = require('react');
  wallet = require('./wallet.ls');
  ref$ = require('prelude-ls'), map = ref$.map, take = ref$.take, drop = ref$.drop;
  menu = require('./menu.ls');
  web3 = require('../web3.ls');
  walletsFuncs = require('../wallets-funcs.ls');
  manageAccount = require('./manage-account.ls');
  tokenMigration = require('./token-migration.ls');
  addCoinPage = require('./add-coin.ls');
  getLang = require('../get-lang.ls');
  getPrimaryInfo = require('../get-primary-info.ls');
  history = require('./history.ls');
  icons = require('../icons.ls');
  icon = require('./icon.ls');
  mobile = function(arg$){
    var store, web3t, ref$, wallets, goUp, canUp, goDown, canDown, style, lang, borderStyleW, borderStyle, row, leftSide, rightSide, headerStyle, input, headerLeft, borderRight, openAccount, editAccountName, defaultAccountName, editAccount, doneEdit, cancelEditAccountName, currentAccountName, accountName, rotateClass, viewAccountTemplate, editAccountTemplate, chosenAccountTemplate, children;
    store = arg$.store, web3t = arg$.web3t;
    if (store.current.account == null) {
      return null;
    }
    ref$ = walletsFuncs(store, web3t), wallets = ref$.wallets, goUp = ref$.goUp, canUp = ref$.canUp, goDown = ref$.goDown, canDown = ref$.canDown;
    style = getPrimaryInfo(store);
    lang = getLang(store);
    borderStyleW = {
      border: "1px solid " + style.app.border,
      background: style.app.input + "99"
    };
    borderStyle = {
      borderTop: "1px solid " + style.app.border
    };
    row = {
      display: "flex",
      height: "100vh",
      marginLeft: "60px"
    };
    leftSide = {
      width: "45%"
    };
    rightSide = {
      width: "55%",
      borderLeft: "1px solid " + style.app.border
    };
    headerStyle = {
      borderTop: "1px solid " + style.app.border,
      padding: "17px 0px 20px",
      color: style.app.text,
      textAlign: "left"
    };
    input = {
      background: style.app.wallet,
      border: "1px solid " + style.app.border,
      color: style.app.text
    };
    headerLeft = {
      marginLeft: "10px"
    };
    borderRight = {
      borderRight: "1px solid " + style.app.border
    };
    openAccount = function(){
      return store.current.switchAccount = !store.current.switchAccount;
    };
    editAccountName = function(){
      return store.current.editAccountName = currentAccountName();
    };
    defaultAccountName = function(){
      return "Account " + store.current.accountIndex;
    };
    editAccount = function(e){
      return store.current.editAccountName = e.target.value;
    };
    doneEdit = function(){
      localStorage.setItem(defaultAccountName(), store.current.editAccountName);
      return cancelEditAccountName();
    };
    cancelEditAccountName = function(){
      return store.current.editAccountName = "";
    };
    currentAccountName = function(){
      var ref$;
      return (ref$ = localStorage.getItem(defaultAccountName())) != null
        ? ref$
        : defaultAccountName();
    };
    accountName = currentAccountName();
    rotateClass = store.current.switchAccount ? 'rotate' : "";
    viewAccountTemplate = function(){
      var children;
      return react.createElement('div', {
        className: 'switch-account h1'
      }, children = [
        react.createElement('span', {
          onClick: openAccount,
          className: 'name'
        }, ' ' + accountName), react.createElement('span', {
          onClick: editAccountName,
          className: 'icon'
        }, children = react.createElement('img', {
          src: icons.create + "",
          className: 'icon-svg1'
        })), react.createElement('span', {
          onClick: openAccount,
          className: rotateClass + " icon"
        }, children = react.createElement('img', {
          src: icons.arrowDown + "",
          className: 'icon-svg2'
        }))
      ]);
    };
    editAccountTemplate = function(){
      var children;
      return react.createElement('div', {
        className: 'switch-account h1'
      }, children = [
        react.createElement('input', {
          value: store.current.editAccountName + "",
          onChange: editAccount,
          style: input,
          className: 'h1'
        }), react.createElement('span', {
          onClick: doneEdit,
          className: 'ckeck icon'
        }, children = icon("Check", 20)), react.createElement('span', {
          onClick: cancelEditAccountName,
          className: 'cancel icon'
        }, children = icon("X", 20))
      ]);
    };
    chosenAccountTemplate = store.current.editAccountName === ""
      ? viewAccountTemplate()
      : editAccountTemplate();
    return react.createElement('div', {
      key: "wallets",
      className: 'wallet-mobile wallet-mobile-69666813'
    }, children = [
      menu({
        store: store,
        web3t: web3t
      }), manageAccount({
        store: store,
        web3t: web3t
      }), tokenMigration({
        store: store,
        web3t: web3t
      }), addCoinPage({
        store: store,
        web3t: web3t
      }), react.createElement('div', {
        key: "wallets-body",
        className: 'wallets'
      }, children = [
        react.createElement('div', {
          style: headerStyle,
          className: 'header'
        }, children = [
          react.createElement('span', {
            style: headerLeft,
            className: 'head left h1 hidden'
          }, ' ' + lang.yourWallets), chosenAccountTemplate
        ]), react.createElement('div', {
          key: "wallets-viewport",
          style: borderStyleW,
          className: 'wallet-container'
        }, children = map(wallet(store, web3t, wallets))(
        wallets))
      ])
    ]);
  };
  module.exports = mobile;
}).call(this);
