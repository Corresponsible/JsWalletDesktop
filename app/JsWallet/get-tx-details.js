// Generated by LiveScript 1.6.0
(function(){
  var addresses, ref$, map, filter, objToPairs, roundHuman, roundNumber;
  addresses = require('./velas/addresses.js');
  ref$ = require('prelude-ls'), map = ref$.map, filter = ref$.filter, objToPairs = ref$.objToPairs;
  roundHuman = require('./round-human.js');
  roundNumber = require('./round-number.js');
  module.exports = function(store, web3t){
    var send, decimalsConfig, isData, ref$, network, contract, tokenDisplay, funtype, textPartsContract, textPartsRegular;
    send = store.current.send;
    decimalsConfig = send.network.decimals;
    isData = ((ref$ = send.data) != null ? ref$ : "").length > 0;
    network = store.current.network;
    contract = function(it){
      return it != null
        ? it
        : send.to;
    }(
    map(function(it){
      return it[0];
    })(
    filter(function(it){
      return it[1] === send.to;
    })(
    objToPairs(
    addresses[network]))));
    tokenDisplay = send.coin.token === 'vlx2'
      ? 'vlx'
      : send.coin.token;
    funtype = +send.amountSend > 0
      ? "Send " + send.amountSend + " " + tokenDisplay + " to " + contract + " contract"
      : "Execute the " + contract + " contract";
    textPartsContract = [
      funtype, "You are allowed to spend your resources on execution " + roundNumber(send.amountSendFee, {
        decimals: decimalsConfig
      }) + " " + tokenDisplay + "."
    ];
    textPartsRegular = [
      "Send " + roundHuman(send.amountSend, {
        decimals: decimalsConfig
      }) + " " + tokenDisplay + " to " + send.to, "You are allowed to spend your resources on execution " + roundNumber(send.amountSendFee, {
        decimals: decimalsConfig
      }) + " " + tokenDisplay + "."
    ];
    if (isData) {
      return textPartsContract;
    } else {
      return textPartsRegular;
    }
  };
}).call(this);
